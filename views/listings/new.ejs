<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Listing Form</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
  <div class="newformparent">
    <div class="newformchild">
      <form action="/listings" novalidate class="needs-validation" method="post" enctype="multipart/form-data">

        <div class="form-row">
          <label for="title">Title :</label>
          <input type="text" id="title" class="form-control" required name="listing[title]" placeholder="Enter title">
          <div class="valid-feedback">Looks good ✅</div>
          <div class="invalid-feedback">Title is required</div>
        </div>

        <div class="form-row">
          <label for="description">Description :</label>
          <textarea id="description" required name="listing[description]" placeholder="Enter description"></textarea>
          <div class="valid-feedback">Description looks good ✅</div>
          <div class="invalid-feedback">Description is required</div>
        </div>

        <div class="form-row">
          <label for="location">Location :</label>
          <input type="text" id="location" required name="listing[location]" placeholder="Enter location">
          <div class="valid-feedback">Location looks good ✅</div>
          <div class="invalid-feedback">Location is required</div>
        </div>

        <div class="form-row">
          <label for="country">Country :</label>
          <input type="text" id="country" required name="listing[country]" placeholder="Enter country">
          <div class="valid-feedback">Country looks good ✅</div>
          <div class="invalid-feedback">Country is required</div>
        </div>

        <div class="form-row">
          <label for="price">Price :</label>
          <input type="number" id="price" required name="listing[price]" placeholder="Enter price">
          <div class="valid-feedback">Price looks good ✅</div>
          <div class="invalid-feedback">Price is required</div>
        </div>

        <!-- ✅ New Category Dropdown -->
        <div class="form-row">
          <label for="category">Category :</label>
          <select id="category" name="listing[category]" class="form-control" required>
            <option value="" disabled selected>Select category</option>
            <option value="trending">Trending</option>
            <option value="rooms">Rooms</option>
            <option value="iconiccities">Iconic Cities</option>
            <option value="mountain">Mountain</option>
            <option value="castles">Castles</option>
            <option value="amazingpools">Amazing Pools</option>
            <option value="camping">Camping</option>
            <option value="farms">Farms</option>
            <option value="arctic">Arctic</option>
            <option value="boats">Boats</option>
            <option value="domes">Domes</option>
          </select>
          <div class="valid-feedback">Category selected ✅</div>
          <div class="invalid-feedback">Category is required</div>
        </div>

        <div class="form-row">
          <label for="image">Image :</label>
          <input type="file" id="image" required name="listing[image]">
        </div>

        <button class="newbtn" type="submit">Submit</button>
      </form>
    </div>
  </div>

  <script> 
    (() => {
      'use strict'
      const forms = document.querySelectorAll('.needs-validation')

      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }

          form.classList.add('was-validated')
        }, false)
      })
    })()
  </script>
</body>
</html>
